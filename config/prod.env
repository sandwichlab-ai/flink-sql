# Flink SQL 生产环境配置

# ==================== AWS 配置 ====================
AWS_PROFILE=prod-us
AWS_REGION=us-west-2
AWS_ACCOUNT_ID=879794963971

# ==================== Flink 应用配置 ====================
APP_NAME=lexi2-flink-prod
RUNTIME=FLINK-1_20
PARALLELISM=4

# 资源配置 (KPU - Kinesis Processing Units)
# 1 KPU = 1 vCPU + 4GB Memory
PARALLELISM_PER_KPU=1
AUTOSCALING_ENABLED=true
MIN_PARALLELISM=2
MAX_PARALLELISM=16

# ==================== MSK 配置 ====================
# 从 SSM 获取: /lexi2/prod/infra-streaming/msk_bootstrap_brokers
BOOTSTRAP_SERVERS=boot-xxx.kafka-serverless.us-west-2.amazonaws.com:9098

# Kafka 安全配置
KAFKA_SECURITY_PROTOCOL=SASL_SSL
KAFKA_SASL_MECHANISM=AWS_MSK_IAM

# ==================== S3 配置 ====================
CODE_BUCKET=lexi2-prod-usw2-879794963971-flink-code
SQL_KEY=flink-sql/event_processor.sql

# ==================== Topic 配置 ====================
INPUT_TOPIC=raw-events
OUTPUT_TOPIC=processed-events

# ==================== 日志配置 ====================
LOG_LEVEL=WARN
CLOUDWATCH_LOG_GROUP=/aws/kinesis-analytics/lexi2-flink-prod
